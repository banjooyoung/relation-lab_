<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Relation Lab : ì¬íšŒ ì‹¬ë¦¬ ì—°êµ¬ì†Œ</title>
    <script src="https://js.tosspayments.com/v1/payment"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --p-color: #5f27cd; --gold: #d4af37; --bg: #fcfcfc; --text: #222; --accent: #ff4757; }
        body { margin: 0; font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text); -webkit-font-smoothing: antialiased; padding-bottom: env(safe-area-inset-bottom); }
        .container { padding: 25px; max-width: 450px; margin: 0 auto; min-height: 100vh; display: flex; flex-direction: column; box-sizing: border-box; }
        h1, h2 { font-family: 'Noto Serif KR', serif; }
        .nav-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; height: 30px; }
        .back-btn { background: none; border: none; font-size: 14px; color: #aaa; cursor: pointer; padding: 0; display: flex; align-items: center; }
        .premium-card { background: #fff; border-radius: 24px; padding: 25px; border: 1px solid #f0f0f0; box-shadow: 0 10px 30px rgba(0,0,0,0.03); margin-bottom: 20px; position: relative; overflow: hidden; }
        .prog-wrap { height: 4px; background: #eee; border-radius: 10px; overflow: hidden; flex-grow: 1; margin: 0 15px; }
        .prog-bar { height: 100%; background: var(--p-color); width: 0%; transition: width 0.5s ease; }
        .expert-tip { background: #f8f9ff; border-radius: 15px; padding: 18px; margin-top: 25px; font-size: 13px; color: #5f27cd; border-left: 3px solid var(--p-color); line-height: 1.5; }
        .opt-btn { width: 100%; padding: 18px; margin-bottom: 12px; border: 1px solid #eee; border-radius: 15px; background: white; font-size: 15px; font-weight: 600; cursor: pointer; text-align: left; padding-left: 20px; }
        .cta-btn { width: 100%; padding: 22px; border-radius: 18px; border: none; background: var(--p-color); color: white; font-size: 17px; font-weight: 700; cursor: pointer; transition: 0.3s; text-align: center; display: block; text-decoration: none; }
        .cta-btn:active { transform: scale(0.98); }
        .chart-bar { height: 8px; background: #eee; border-radius: 4px; margin: 8px 0 15px; overflow: hidden; }
        .chart-fill { height: 100%; background: var(--p-color); width: 0%; transition: width 1s ease-out; }
        .hidden { display: none !important; }
        @keyframes spin { to { transform: rotate(360deg); } }
        footer p { margin: 4px 0; }
        .sol-box { background: #f8f9ff; border-radius: 15px; padding: 18px; margin-top: 10px; border-left: 4px solid var(--p-color); }
        .sol-title { font-weight: 800; color: var(--p-color); font-size: 16px; display: block; margin-bottom: 8px; }
    </style>
</head>
<body>

<div class="container" id="main-content">
    <div id="v-intro">
        <div style="text-align: center; margin-top: 50px;">
            <p style="letter-spacing: 3px; font-size: 11px; color: var(--gold); font-weight: 700; margin-bottom: 10px;">PSYCHOLOGICAL ANALYSIS SYSTEM</p>
            <h1 style="font-size: 26px; margin: 15px 0; line-height:1.4;">ì´ë³„ì˜ ë°ì´í„°ëŠ”<br>ê±°ì§“ë§ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</h1>
            <p style="font-size: 14px; color: #666; line-height: 1.6; margin-bottom: 30px;">"ì‚¬ë‘ì€ ìˆ˜ë™ì ì¸ ê°ì •ì´ ì•„ë‹ˆë¼ ëŠ¥ë™ì ì¸ í˜ì´ë‹¤."<br>- ì—ë¦¬íˆ í”„ë¡¬</p>
            <div class="premium-card" style="text-align: left; border-left: 4px solid var(--p-color);">
                <p style="font-size: 14px; margin: 0; line-height: 1.7; color: #444;">ë³¸ ì§„ë‹¨ì€ <b>ì¡´ ë³´ìš¸ë¹„ì˜ ì• ì°© ì´ë¡ </b>ê³¼ <b>ê³ íŠ¸ë¨¼ì˜ ê´€ê³„ ì—­í•™</b>ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            </div>
            <button class="cta-btn" onclick="startFresh()" style="width: 100%;">ì •ë°€ ë¶„ì„ ì„¸ì…˜ ì‹œì‘</button>
        </div>
    </div>

    <div id="v-quiz" class="hidden">
        <div class="nav-header">
            <button class="back-btn" onclick="goBack()">â† ì´ì „ ë‹¨ê³„</button>
            <div class="prog-wrap"><div id="bar" class="prog-bar"></div></div>
            <span id="q-count" style="font-size: 11px; font-weight: 800; color: #aaa;">01/15</span>
        </div>
        <div id="q-text" style="font-size: 20px; font-weight: 700; margin-bottom: 25px; min-height: 60px; line-height: 1.4;"></div>
        <div id="options"></div>
        <div id="expert-comment" class="expert-tip"></div>
    </div>

    <div id="v-load" class="hidden" style="text-align:center; margin-top:120px;">
        <h2 style="font-size: 22px;">ì‹¬ë¦¬ ì•Œê³ ë¦¬ì¦˜ ì—°ì‚° ì¤‘</h2>
        <div style="margin: 30px auto; width: 45px; height: 45px; border: 3px solid #eee; border-top-color: var(--p-color); border-radius: 50%; animation: spin 1s linear infinite;"></div>
        <p id="load-text" style="font-weight: 800; color: var(--p-color); font-size: 32px;">0%</p>
    </div>

    <div id="v-res" class="hidden">
        <div style="text-align: center; margin-bottom: 25px;">
            <p style="font-size: 12px; font-weight: 700; color: var(--gold); letter-spacing: 2px;">DIAGNOSIS COMPLETE</p>
            <h1 style="margin: 10px 0;">ìµœì¢… ì •ë°€ ì§„ë‹¨ ë¦¬í¬íŠ¸</h1>
        </div>
        <div class="premium-card">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 25px;">
                <div style="height: 110px; background: #f8f9ff; border-radius: 20px; border: 1px solid #edf0ff; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                    <div style="display: flex; align-items: baseline; color: var(--p-color); margin-bottom: 5px;">
                        <span id="res-score" style="font-size: 32px; font-weight: 800; line-height: 1;">0</span>
                        <span style="font-size: 16px; font-weight: 700; margin-left: 2px;">%</span>
                    </div>
                    <div style="font-size: 11px; color: #888; font-weight: 600;">ì¬íšŒ ì„±ê³µ í™•ë¥ </div>
                </div>
                <div style="height: 110px; background: #fff5f5; border-radius: 20px; border: 1px solid #ffebeb; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                    <div id="res-status" style="font-size: 18px; font-weight: 800; color: var(--accent); text-align: center;">ë¶„ì„ì¤‘</div>
                    <div style="font-size: 11px; color: #888; font-weight: 600;">í˜„ì¬ ê´€ê³„ ë“±ê¸‰</div>
                </div>
            </div>
            <h3 style="font-size: 15px; margin-bottom: 12px;">ğŸ” AI ë¬´ë£Œ ìƒí™© ì§„ë‹¨</h3>
            <p id="free-analysis" style="font-size: 13.5px; color: #444; line-height: 1.7; margin-bottom: 25px;"></p>
            <div class="chart-bar"><div id="g1" class="chart-fill"></div></div>
            <div class="chart-bar"><div id="g2" class="chart-fill" style="background:var(--accent)"></div></div>
        </div>
        <button class="cta-btn" onclick="pay()" style="width: 100%;">ì†”ë£¨ì…˜ ì „ì²´ ì—´ëŒí•˜ê¸° (900ì›)</button>
    </div>

    <div id="v-success" class="hidden">
        <div style="text-align: center; margin-bottom: 30px;">
            <p style="font-size: 12px; font-weight: 700; color: var(--gold); letter-spacing: 2px;">VIP PREMIUM SOLUTION</p>
            <h1 style="color: var(--p-color); margin: 10px 0;">ì¬íšŒ í™•ë¥  ê·¹ëŒ€í™” ì†”ë£¨ì…˜</h1>
        </div>

        <div class="premium-card">
            <span class="sol-title">1ë‹¨ê³„: í”„ë ˆì„ ì¬ì„¤ê³„ (No Contact)</span>
            <div class="sol-box">
                <p style="margin:0; font-size: 13.5px; line-height: 1.7;">
                    <b>ì´ë¡ ì  ê·¼ê±°:</b> ë¯¸í™” íš¨ê³¼(Rosy Retrospection)<br>
                    ì¸ê°„ì˜ ë‡ŒëŠ” ê³ í†µì„ ìŠê³  ì¦ê±°ì›€ì„ ë‚¨ê¹ë‹ˆë‹¤. <b>ìµœì†Œ 21ì¼ì˜ ì¹¨ë¬µ</b>ì€ ê°€ì¹˜ë¥¼ íšŒë³µí•˜ëŠ” ìœ ì¼í•œ ìˆ˜ë‹¨ì…ë‹ˆë‹¤.
                </p>
            </div>
        </div>

        <div class="premium-card">
            <span class="sol-title">2ë‹¨ê³„: ê°€ì¹˜ íšŒë³µ ë° ê°„ì ‘ ë…¸ì¶œ</span>
            <div class="sol-box">
                <p style="margin:0; font-size: 13.5px; line-height: 1.7;">
                    <b>ë°©ë²•ë¡ :</b> ë¦¬ë°”ìš´ë“œ ì‹¬ë¦¬ ìê·¹<br>
                    ë§¤ë‹¬ë¦¬ëŠ” íƒœë„ëŠ” ê°€ì¹˜ë¥¼ í›¼ì†í•©ë‹ˆë‹¤. ë³¸ì¸ì˜ ì¼ìƒì— ì§‘ì¤‘í•˜ëŠ” ëª¨ìŠµì„ SNSë¥¼ í†µí•´ <b>ì€ì€í•˜ê²Œ</b> ë…¸ì¶œí•˜ì‹­ì‹œì˜¤.
                </p>
            </div>
        </div>

        <div class="premium-card">
            <span class="sol-title">3ë‹¨ê³„: í…ìŠ¤íŠ¸ í…Œë¼í”¼ (ì²« ì—°ë½)</span>
            <div class="sol-box">
                <p style="margin:0; font-size: 13.5px; line-height: 1.7;">
                    <b>ì „ëµ:</b> ë¯¸ì•ˆí•¨ ìƒì‡„ ë° ëª…ë¶„ í™•ë³´<br>
                    ê³µë°±ê¸° ì´í›„ ì²« ì—°ë½ì€ ê°ì • í˜¸ì†Œê°€ ì•„ë‹Œ <b>'ëª…ë¶„ì„± ì •ë³´ ê³µìœ '</b>ì—¬ì•¼ í•©ë‹ˆë‹¤.
                </p>
            </div>
        </div>
    </div>
</div>

<footer style="background-color: #f9f9f9; padding: 40px 20px; font-size: 11px; color: #777; line-height: 1.6; border-top: 1px solid #eee;">
    <div style="max-width: 450px; margin: 0 auto;">
        <p style="font-weight: bold; font-size: 13px; margin-bottom: 10px; color: #333;">ì£¼ì›ì–´íŒ¨ëŸ´</p>
        <p>ëŒ€í‘œì: ë°˜ì•ˆì‹ | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 518-86-00034</p>
        <p>í†µì‹ íŒë§¤ì—…ì‹ ê³ ë²ˆí˜¸: 2020-ì„œìš¸ë™ëŒ€ë¬¸-1380</p>
        <p>ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ë™ëŒ€ë¬¸êµ¬ ë‹µì‹­ë¦¬ë¡œ68ê¸¸ 31</p>
        <p>ì´ë©”ì¼: qkswnwnel@gmail.com</p>
    </div>
</footer>

<script>
    const qs = [
        {q: "í—¤ì–´ì§„ í›„ ì§€ê¸ˆê¹Œì§€ ì™„ì „í•œ ì—°ë½ ë‹¨ì ˆ ê¸°ê°„ì€?", a:[["1ì£¼ ë¯¸ë§Œ", 5], ["1ì£¼~2ì£¼", 15], ["2ì£¼~4ì£¼", 20], ["1ê°œì›” ì´ìƒ", 10]], tip: "2ì£¼ëŠ” ë¶€ì •ì  ê°ì •ì´ í¬ì„ë˜ëŠ” ìµœì†Œí•œì˜ ì‹œê°„ì…ë‹ˆë‹¤."},
        {q: "ìƒëŒ€ë°©ì´ ì´ë³„ì„ í†µë³´í•  ë•Œì˜ íƒœë„ëŠ”?", a:[["ë‹¨í˜¸í•˜ê³  ëƒ‰ì •í•¨", 5], ["í™”ë¥¼ ëƒ„", 15], ["ìŠ¬í¼í•˜ë©° ë¯¸ì•ˆí•´í•¨", 20], ["ì ìˆ˜í•¨", 0]], tip: "ìŠ¬í¼í•˜ëŠ” ì´ë³„ì€ ì• ì°©ì´ ë‚¨ì•„ìˆìŒì„ ëœ»í•©ë‹ˆë‹¤."},
        {q: "ë‘ ì‚¬ëŒì˜ ì—°ì•  ê¸°ê°„ì€ ì–´ëŠ ì •ë„ì¸ê°€ìš”?", a:[["100ì¼ ë¯¸ë§Œ", 5], ["1~3ë…„", 20], ["3ë…„ ì´ìƒ", 15]], tip: "ì¥ê¸° ì—°ì• ëŠ” ì„œë¡œë¥¼ ì‰½ê²Œ ìŠì§€ ëª»í•©ë‹ˆë‹¤."},
        {q: "ì´ë³„ì˜ ê²°ì •ì ì¸ ì‚¬ìœ ëŠ”?", a:[["ì„±ê²© ì°¨ì´/ê¶Œíƒœê¸°", 20], ["ë‚˜ì˜ ì‹¤ìˆ˜/ë°”ëŒ", 5], ["í™˜ê²½ì  ìš”ì¸", 15]], tip: "ê¶Œíƒœê¸°ëŠ” ë„íŒŒë¯¼ ê²°ì—¬ì¼ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤."},
        {q: "ìƒëŒ€ë°©ì´ ë‹¹ì‹ ì˜ SNSë¥¼ ì°¨ë‹¨í–ˆë‚˜ìš”?", a:[["ì•ˆ í•¨", 20], ["ìˆ¨ê¹€/ì–¸íŒ”", 10], ["ì „ì²´ ì°¨ë‹¨", 5]], tip: "ì°¨ë‹¨í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ê¶ê¸ˆí•´í•  ì°½êµ¬ê°€ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤."},
        {q: "ìƒëŒ€ì˜ í‰ì†Œ ì• ì°© ìœ í˜•ì€?", a:[["ì•ˆì •í˜•", 20], ["ë¶ˆì•ˆí˜•", 15], ["íšŒí”¼í˜•", 5]], tip: "íšŒí”¼í˜•ì—ê²ŒëŠ” ë°©ì¹˜ê°€ ë” íš¨ê³¼ì ì…ë‹ˆë‹¤."},
        {q: "í—¤ì–´ì§„ ì§í›„ ë‹¹ì‹ ì´ ë§¤ë‹¬ë¦° íšŸìˆ˜ëŠ”?", a:[["0ë²ˆ", 20], ["1~2ë²ˆ", 10], ["ë§ì´ í•¨", 5]], tip: "ë§¤ë‹¬ë¦¼ì€ ìƒëŒ€ì—ê²Œ ì•ˆë„ê°ì„ ì£¼ì–´ ê°€ì¹˜ë¥¼ ë‚®ì¶¥ë‹ˆë‹¤."},
        {q: "ìƒë°ì—ê²Œ ìƒˆë¡œìš´ ì´ì„±ì´ ìƒê²¼ë‚˜ìš”?", a:[["ì—†ìŒ", 20], ["ëª¨ë¦„", 10], ["ìˆìŒ", 5]], tip: "í™˜ìŠ¹ ì´ë³„ì€ ë¦¬ë°”ìš´ë“œ íš¨ê³¼ë¡œ ê¸ˆë°© ì‹ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
        {q: "ì§€ì¸ë“¤ì˜ ê°ê´€ì  ë°˜ì‘ì€?", a:[["ë‹¤ì‹œ ë§Œë‚  ê²ƒ ê°™ë‹¤", 20], ["í˜ë“¤ì–´ ë³´ì¸ë‹¤", 15], ["ë¶€ì •ì ì´ë‹¤", 5]], tip: "ì£¼ë³€ì˜ í‰ê°€ëŠ” ê°ê´€ì ì¸ ì§€í‘œê°€ ë©ë‹ˆë‹¤."},
        {q: "ë§ˆì§€ë§‰ ëŒ€í™”ì˜ ë¶„ìœ„ê¸°ëŠ”?", a:[["ê¸ì •ì ", 20], ["í›ˆí›ˆí•¨", 15], ["ì½ì”¹/ìµœì•…", 0]], tip: "ë§ˆì§€ë§‰ ì¸ì‚¬ê°€ ì¢‹ì„ìˆ˜ë¡ ë¯¸í™”ê°€ ë¹ ë¦…ë‹ˆë‹¤."},
        {q: "í•¨ê»˜í•œ ì¶”ì–µì˜ ê¹Šì´ëŠ”?", a:[["ë§¤ìš° ê¹ŠìŒ", 20], ["ë³´í†µ", 15], ["ì ìŒ", 5]], tip: "ì¶”ì–µì€ ì‹¬ë¦¬ì  ì§€ë¢°ì™€ ê°™ìŠµë‹ˆë‹¤."},
        {q: "ìƒëŒ€ë°©ì´ í‰ì†Œ ì™¸ë¡œì›€ì„ íƒ€ë‚˜ìš”?", a:[["ë§ì´ íƒ", 20], ["ë³´í†µ", 10], ["í˜¼ì ì˜ ì§€ëƒ„", 5]], tip: "ì™¸ë¡œì›€ì„ íƒ€ëŠ” ì„±í–¥ì´ ì—°ë½ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤."},
        {q: "ê±°ì£¼ì§€ ì‚¬ì´ì˜ ê±°ë¦¬ëŠ”?", a:[["ê°€ê¹Œì›€", 15], ["ë³´í†µ", 10], ["ì¥ê±°ë¦¬", 5]], tip: "ë¬¼ë¦¬ì  ê±°ë¦¬ëŠ” ë§Œë‚¨ì˜ ê¸°íšŒë¥¼ ê²°ì •í•©ë‹ˆë‹¤."},
        {q: "ìƒëŒ€ì˜ í”„ë¡œí•„ ì‚¬ì§„ ë³€í™” ì£¼ê¸°ëŠ”?", a:[["ìì£¼ ë°”ë€œ", 20], ["ê·¸ëŒ€ë¡œ", 10], ["ì•„ì˜ˆ ë‚´ë¦¼", 15]], tip: "ì¦ì€ êµì²´ëŠ” ë¬´ì˜ì‹ì  ì‹ í˜¸ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
        {q: "ì¬íšŒë¥¼ ìœ„í•œ ë³€í™” ì˜ì§€ëŠ”?", a:[["í™•ì‹¤í•¨", 20], ["ë…¸ë ¥ ì¤‘", 15], ["ëª¨ë¥´ê² ìŒ", 5]], tip: "ë³€í™” ì—†ëŠ” ì¬íšŒëŠ” ì´ë³„ì˜ ë°˜ë³µì…ë‹ˆë‹¤."}
    ];

    let idx = 0; let scoreStack = [0];
    function startFresh() { idx = 0; scoreStack = [0]; document.getElementById('v-intro').classList.add('hidden'); document.getElementById('v-quiz').classList.remove('hidden'); renderQ(); }
    function goBack() { if(idx > 0) { idx--; scoreStack.pop(); renderQ(); } else { document.getElementById('v-quiz').classList.add('hidden'); document.getElementById('v-intro').classList.remove('hidden'); } }
    
    function renderQ() {
        if (idx >= qs.length) { showLoad(); return; }
        const item = qs[idx];
        document.getElementById('q-text').innerText = item.q;
        document.getElementById('q-count').innerText = (idx + 1).toString().padStart(2, '0') + "/15";
        document.getElementById('bar').style.width = ((idx + 1) / qs.length) * 100 + "%";
        document.getElementById('expert-comment').innerText = "Expert Tip: " + item.tip;
        const optBox = document.getElementById('options'); optBox.innerHTML = '';
        item.a.forEach(v => {
            const btn = document.createElement('button'); btn.className = 'opt-btn'; btn.innerText = v[0];
            btn.onclick = () => { scoreStack.push(scoreStack[scoreStack.length - 1] + v[1]); idx++; renderQ(); };
            optBox.appendChild(btn);
        });
    }

    function showLoad() {
        document.getElementById('v-quiz').classList.add('hidden'); document.getElementById('v-load').classList.remove('hidden');
        let p = 0; const interval = setInterval(() => { p += 2; document.getElementById('load-text').innerText = p + "%"; if(p >= 100) { clearInterval(interval); showResult(); }}, 30);
    }

    function showResult() {
        document.getElementById('v-load').classList.add('hidden'); document.getElementById('v-res').classList.remove('hidden');
        const totalScore = scoreStack[scoreStack.length - 1];
        let finalPercent = Math.min(96, Math.max(18, Math.round((totalScore / 300) * 100)));
        document.getElementById('res-score').innerText = finalPercent;
        document.getElementById('res-status').innerText = finalPercent > 70 ? "ì£¼ì˜ ë‹¨ê³„" : (finalPercent > 40 ? "ê²½ê³  ë‹¨ê³„" : "ê³ ë¦½ ë‹¨ê³„");
        document.getElementById('free-analysis').innerText = "ë¶„ì„ ê²°ê³¼, í˜„ì¬ ë‹¹ì‹ ì€ ìƒëŒ€ë°©ì—ê²Œ 'ì‹¬ë¦¬ì  ê³µë°±'ì„ ì£¼ì–´ì•¼ í•˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤.";
        setTimeout(() => { document.getElementById('g1').style.width = "75%"; document.getElementById('g2').style.width = "40%"; }, 300);
    }

    function pay() {
        const tossPayments = TossPayments('test_ck_D53Qj7pA80umD0E4K4rrR5gvNwlG');
        tossPayments.requestPayment('ì¹´ë“œ', { 
            amount: 900, orderId: 'REL_' + new Date().getTime(), orderName: 'VIP ì¬íšŒ ì „ëµ ê°€ì´ë“œ',
            successUrl: window.location.href.split('?')[0] + '?status=success',
            failUrl: window.location.href.split('?')[0]
        });
    }

    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('status') === 'success') {
            document.getElementById('v-intro').classList.add('hidden');
            document.getElementById('v-success').classList.remove('hidden');
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    };
</script>
</body>
</html>
